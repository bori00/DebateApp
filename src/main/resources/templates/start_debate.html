<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>DebateApp | Start Debate</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" type="text/css"/>
    <script src="/webjars/jquery/3.1.1/jquery.min.js"></script>
    <script crossorigin src="https://unpkg.com/@daily-co/daily-js"></script>
    <script type="text/javascript" th:src="@{/debate_call_utils.js}"></script>
    <script type="text/javascript" th:src="@{/local.config.js}"></script>
    <script type="text/javascript" th:src="@{/start_debate.js}"></script>
    <style>
        .hide {
            display: none;
        }
    </style>
</head>
<body th:onload="'createCallFrameAndStartCall(' + ${user.getId()} + ');'">

<div id="container" class="container text-center">

    <h5><a th:href="@{/}">Home</a></h5>

    <div id="wrapper" class="wrapper">

        <div id="controls-copy-url" class="text-center hide">
            <h3>Invite participants</h3>
            <p>Share URL below to invite others</p>
            <form>
                <div class="form-group">
                    <label for="copy-url">Call url</label>
                    <input
                            type="text"
                            class="form-control"
                            id="copy-url"
                            placeholder="Copy this room URL"
                            contenteditable="false"
                    />
                </div>
                <button
                        type="button"
                        id="copy-url-button"
                        class="btn btn-primary"
                        onclick="copyUrl()"
                >
                    Copy URL
                </button>
            </form>
        </div>
    </div>

    <div id="control-prep-phase" class="text-center">
        <button
                type="button"
                id="start-prep-phase-button"
                class="btn btn-primary hide"
                th:onclick="'startPreparationPhase(' + ${debate_session.getId()} +');'"
        >
            Start preparation phase
        </button>
    </div>

    <div id="control-switch-teams" class="text-center">
        <button
                type="button"
                id="join-team-pro-button"
                class="btn btn-primary hide"
                th:onclick="'joinPreparationPhaseOfProTeam(' + ${user.getId()} + ');'"
        >
            Join preparation meeting of the Pro team
        </button>
        <button
                type="button"
                id="join-team-contra-button"
                class="btn btn-primary hide"
                th:onclick="'joinPreparationPhaseOfContraTeam(' + ${user.getId()} + ');'"
        >
            Join preparation meeting of the Contra team
        </button>
    </div>
</div>
</body>
</html>
